# ЁЯдЦ Ultimate WhatsApp AI Automation (Zero Cost)

рдпрд╣ рджреБрдирд┐рдпрд╛ рдХрд╛ рд╕рдмрд╕реЗ рдкрд╛рд╡рд░рдлреБрд▓ рдФрд░ **100% рдлреНрд░реА** WhatsApp Bot рд╣реИ рдЬреЛ **GitHub Actions** рдкрд░ рдЪрд▓рддрд╛ рд╣реИред рдпрд╣ **24/7** рдСрдирд▓рд╛рдЗрди рд░рд╣рддрд╛ рд╣реИ рдФрд░ рдЗрд╕рдореЗрдВ **AI (ChatGPT)** рдФрд░ **n8n Automation** рдкрд╣рд▓реЗ рд╕реЗ рдЗрдВрд╕реНрдЯреЙрд▓ рд╣реИред

---

## ЁЯЪж 1. рдЕрдХрд╛рдЙрдВрдЯ рдмрдирд╛рдПрдВ (Create Accounts)
рдХреЛрдб рдХреЛ рд╣рд╛рде рд▓рдЧрд╛рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ, рдпреЗ 4 рдлреНрд░реА рдЕрдХрд╛рдЙрдВрдЯ рдмрдирд╛ рд▓реЗрдВ рдФрд░ рдиреЛрдЯрдкреИрдб рдореЗрдВ рдбреАрдЯреЗрд▓реНрд╕ рд╕реЗрд╡ рдХрд░ рд▓реЗрдВред

### ЁЯФ╣ A. Ngrok (Server Link)
1.  [Ngrok.com](https://dashboard.ngrok.com/signup) рдкрд░ рд╕рд╛рдЗрди рдЕрдк рдХрд░реЗрдВред
2.  **Dashboard** рдореЗрдВ рд▓реЗрдлреНрдЯ рд╕рд╛рдЗрдб рдореЗрдВ **"Your Authtoken"** рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВред рдЯреЛрдХрди рдХреЙрдкреА рдХрд░реЗрдВред
3.  рд▓реЗрдлреНрдЯ рд╕рд╛рдЗрдб рдореЗрдВ **Cloud Edge** -> **Domains** рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВред
4.  **+ New Domain** рджрдмрд╛рдПрдВ (Free рд╡рд╛рд▓рд╛ рдЪреБрдиреЗрдВ)ред
5.  рдЖрдкрдХреЛ рдПрдХ рдбреЛрдореЗрди рдорд┐рд▓реЗрдЧрд╛ (рдЬреИрд╕реЗ: `funny-name.ngrok-free.app`)ред рдЗрд╕реЗ рдХреЙрдкреА рдХрд░реЗрдВред

### ЁЯФ╣ B. MongoDB Atlas (Database)
1.  [MongoDB Atlas](https://www.mongodb.com/cloud/atlas/register) рдкрд░ рдлреНрд░реА рдЕрдХрд╛рдЙрдВрдЯ рдмрдирд╛рдПрдВред
2.  **Create Cluster** (Free Shared) рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВ рдФрд░ рдмрдирд╛ рд▓реЗрдВред
3.  **Network Access** (Left Menu) -> **+ Add IP Address** -> **Allow Access from Anywhere (0.0.0.0/0)** рдЪреБрдиреЗрдВред
4.  **Database Access** -> **+ Add New Database User**.
    * Username: `admin`
    * Password: `password123` (рдпрд╛ рдЕрдкрдирд╛ рд░рдЦреЗрдВ)ред
5.  **Connect** рдмрдЯрди рджрдмрд╛рдПрдВ -> **Drivers** -> Node.js рдЪреБрдиреЗрдВред рд▓рд┐рдВрдХ рдХреЙрдкреА рдХрд░реЗрдВред
    * тЪая╕П **IMPORTANT:** рд▓рд┐рдВрдХ рдореЗрдВ `mongodb.net/` рдХреЗ рдмрд╛рдж `wa_bot_db` рд▓рд┐рдЦреЗрдВред
    * *Example:* `mongodb+srv://admin:pass@cluster.mongodb.net/wa_bot_db?retryWrites=true&w=majority`

### ЁЯФ╣ C. Supabase (Backup Storage)
1.  [Supabase.com](https://supabase.com/) рдкрд░ рдирдпрд╛ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдмрдирд╛рдПрдВред
2.  Left Menu рдореЗрдВ **Storage** -> **New Bucket** рдмрдирд╛рдПрдВред
    * Name: `bot-storage`
    * Public bucket: **OFF** рд░рдЦреЗрдВред
3.  **Project Settings** (рдиреАрдЪреЗ рдЧрд┐рдпрд░ рдЖрдЗрдХрди тЪЩя╕П) -> **API** рдкрд░ рдЬрд╛рдПрдВред
    * **Project URL** рдХреЙрдкреА рдХрд░реЗрдВред
    * **service_role** key (Secret) рдХреЙрдкреА рдХрд░реЗрдВред

### ЁЯФ╣ D. Telegram (Notification)
1.  Telegram рдкрд░ **@BotFather** рд╕рд░реНрдЪ рдХрд░реЗрдВ -> `/newbot` рднреЗрдЬреЗрдВ -> **Token** рдХреЙрдкреА рдХрд░реЗрдВред
2.  **@userinfobot** рд╕рд░реНрдЪ рдХрд░реЗрдВ -> `/start` рднреЗрдЬреЗрдВ -> рдЕрдкрдиреА **ID** рдХреЙрдкреА рдХрд░реЗрдВред

---

## ЁЯФР 2. GitHub рдореЗрдВ Secrets рд╕реЗрд╡ рдХрд░реЗрдВ

1.  рдЕрдкрдиреЗ GitHub Repo рдореЗрдВ рдЬрд╛рдПрдВред
2.  рдКрдкрд░ **Settings** рдЯреИрдм рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВред
3.  рд▓реЗрдлреНрдЯ рд╕рд╛рдЗрдб рдореЗрдВ **Secrets and variables** -> **Actions** рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВред
4.  **New repository secret** рдмрдЯрди рджрдмрд╛рдПрдВ рдФрд░ рдиреАрдЪреЗ рджреА рдЧрдИ рд▓рд┐рд╕реНрдЯ рд╕реЗрд╡ рдХрд░реЗрдВ:

| Secret Name (рдирд╛рдо) | Value (рдпрд╣рд╛рдБ рдХреНрдпрд╛ рдкреЗрд╕реНрдЯ рдХрд░реЗрдВ) |
| :--- | :--- |
| `GH_PAT` | рдЖрдкрдХрд╛ GitHub Personal Access Token (Settings -> Developer Settings -> Tokens -> Classic -> Scope: Workflow)ред |
| `MONGODB_URI` | MongoDB рдХрд╛ рд▓рд┐рдВрдХ (тЪая╕П рдзреНрдпрд╛рди рджреЗрдВ: `/wa_bot_db` рд▓рдЧрд╛ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП)ред |
| `NGROK_AUTH` | Ngrok рдХрд╛ Authtoken (Step A)ред |
| `NGROK_DOMAIN` | Ngrok рдХрд╛ рдбреЛрдореЗрди (рдмрд┐рдирд╛ `https://` рдХреЗ, e.g., `my-bot.ngrok-free.app`)ред |
| `SUPABASE_URL` | Supabase Project URL (Step C)ред |
| `SUPABASE_SERVICE_ROLE` | Supabase service_role Key (Step C)ред |
| `N8N_ENCRYPTION_KEY` | `password123` (рдХреЛрдИ рднреА рд░реИрдВрдбрдо рдкрд╛рд╕рд╡рд░реНрдб)ред |
| `TELEGRAM_BOT_TOKEN` | BotFather рд╡рд╛рд▓рд╛ рдЯреЛрдХрдиред |
| `TELEGRAM_CHAT_ID` | рдЖрдкрдХреА Telegram IDред |

---

## ЁЯЪА 3. рдХреЛрдб рдбрд┐рдкреНрд▓реЙрдп рдХрд░реЗрдВ (Start Bot)

1.  Repo рдореЗрдВ **Add file** -> **Create new file** рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВред
2.  рдлрд╛рдЗрд▓ рдХрд╛ рдирд╛рдо рд▓рд┐рдЦреЗрдВ: `.github/workflows/main.yml`
3.  **Production vFinal (Strict & Clean)** рд╡рд╛рд▓рд╛ рдкреВрд░рд╛ рдХреЛрдб рд╡рд╣рд╛рдВ рдкреЗрд╕реНрдЯ рдХрд░реЗрдВред
4.  рдКрдкрд░ **Commit changes...** рдмрдЯрди рджрдмрд╛рдПрдВред

---

## ЁЯУ▒ 4. WhatsApp рдХрдиреЗрдХреНрдЯ рдХрд░реЗрдВ

1.  рдКрдкрд░ **Actions** рдЯреИрдм рдореЗрдВ рдЬрд╛рдПрдВред
2.  рд▓реЗрдлреНрдЯ рдореЗрдВ **Production vFinal** рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВ -> **Run workflow** рдмрдЯрди рджрдмрд╛рдПрдВред
3.  2-3 рдорд┐рдирдЯ рдЗрдВрддрдЬрд╝рд╛рд░ рдХрд░реЗрдВред
4.  рдЕрдкрдиреЗ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдореЗрдВ рдпрд╣ рд▓рд┐рдВрдХ рдЦреЛрд▓реЗрдВ: `https://YOUR-NGROK-DOMAIN/qr`
    * *(Example: `https://funny-name.ngrok-free.app/qr`)*
5.  рдЕрдкрдиреЗ реЮреЛрди рд╕реЗ WhatsApp -> Linked Devices -> **Scan QR**.
6.  ЁЯОЙ **рдмрдзрд╛рдИ рд╣реЛ!** рдЖрдкрдХрд╛ рдмреЙрдЯ рд▓рд╛рдЗрд╡ рд╣реИред

---

## ЁЯУб 5. рдЗрд╕реНрддреЗрдорд╛рд▓ рдХреИрд╕реЗ рдХрд░реЗрдВ (API Usage)

рдЖрдк n8n рдпрд╛ рдХрд┐рд╕реА рднреА рдРрдк рд╕реЗ рдЕрдкрдиреЗ рдмреЙрдЯ рдХреЛ рдХрдВрдЯреНрд░реЛрд▓ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:

### ЁЯУд рдореИрд╕реЗрдЬ рднреЗрдЬреЗрдВ (Send Message)
* **URL:** `http://wa-bot:10000/send`
* **Method:** `POST`
* **Body:**
    ```json
    {
      "number": "919999999999",
      "message": "Hello from GitHub!"
    }
    ```

### ЁЯза AI рд╕реЗ рдмрд╛рдд рдХрд░реЗрдВ (Ask AI)
* **URL:** `http://ai-server:5000/chat`
* **Body:**
    ```json
    { "message": "Write a poem about Python" }
    ```

---

## ЁЯЖШ Troubleshooting (рд╕рдорд╕реНрдпрд╛ рд╕рдорд╛рдзрд╛рди)

* **Error 502:** рдЗрд╕рдХрд╛ рдорддрд▓рдм рдмреЙрдЯ рд╕реНрдЯрд╛рд░реНрдЯ рдирд╣реАрдВ рд╣реБрдЖред GitHub Actions рдореЗрдВ рдЬрд╛рдХрд░ **Logs** рдЪреЗрдХ рдХрд░реЗрдВред рдЕрдХреНрд╕рд░ `SUPABASE_URL` рдЧрд▓рдд рд╣реЛрдиреЗ рдкрд░ рдРрд╕рд╛ рд╣реЛрддрд╛ рд╣реИред
* **QR Scan рдирд╣реАрдВ рд╣реЛ рд░рд╣рд╛:** `/qr` рдкреЗрдЬ рдкрд░ **Reset** рд▓рд┐рдВрдХ рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВ рдФрд░ рд░рд┐рдлреНрд░реЗрд╢ рдХрд░реЗрдВред
* **Bot рд░реБрдХ рдЧрдпрд╛:** рдЪрд┐рдВрддрд╛ рди рдХрд░реЗрдВ, рдпрд╣ рд╣рд░ 6 рдШрдВрдЯреЗ рдореЗрдВ рдЕрдкрдиреЗ рдЖрдк рд░реАрд╕реНрдЯрд╛рд░реНрдЯ (Auto-Heal) рд╣реЛ рдЬрд╛рдПрдЧрд╛ред

---
**Enjoy your Immortal Bot! ЁЯЪА**
